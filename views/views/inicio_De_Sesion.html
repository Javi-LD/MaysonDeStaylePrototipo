<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Iniciar Sesión</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="CSS/inicio_De_Sesion.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body>
    <div class="container">
      <!-- Sección izquierda con fondo azul -->
      <div class="left-section">
        <div class="logo">
          <i class="fas fa-user-shield"></i>
        </div>
        <h1>Bienvenido</h1>
        <p>
          Accede a tu cuenta para gestionar tus servicios y configuraciones
          personales.
        </p>
      </div>

      <!-- Sección derecha con formulario -->
      <div class="right-section">
        <div class="form-container">
          <h2>Iniciar Sesión</h2>
          <form id="login-form">
            <div class="input-group">
              <label for="username">Usuario o Email</label>
              <div class="input-field">
                <i class="fas fa-user"></i>
                <input type="text" id="username"name="username" placeholder="Ingresa tu usuario o email" required/>
              </div>
            </div>

            <div class="input-group">
              <label for="password">Contraseña</label>
              <div class="input-field">
                <i class="fas fa-lock"></i>
                <input type="password" id="password" name="password" placeholder="Ingresa tu contraseña" required/>
                <i class="fas fa-eye toggle-password"></i>
              </div>
            </div>

            <div class="options">
              <div class="remember-me">
                <input type="checkbox" id="remember" name="remember" />
                <label for="remember">Recordarme</label>
              </div>
              <a href="#" class="forgot-password">¿Olvidaste tu contraseña?</a>
            </div>

            <button type="submit" class="login-btn">Iniciar Sesión</button>

            <div class="divider">
              <span>o inicia sesión con</span>
            </div>

            <div class="social-login">
              <button type="button" class="social-btn google">
                <i class="fab fa-google"></i>
              </button>
              <button type="button" class="social-btn facebook">
                <i class="fab fa-facebook-f"></i>
              </button>
            </div>

            <div class="register">
              <p>¿No tienes una cuenta? <a href="registrarme.html">Regístrate</a></p>
            </div>
          </form>
        </div>
      </div>
    </div>

    <script>
      // Esperar a que el DOM esté completamente cargado
      document.addEventListener("DOMContentLoaded", function () {
        // Referencias a elementos del DOM
        const loginForm = document.getElementById("login-form");
        const usernameInput = document.getElementById("username");
        const passwordInput = document.getElementById("password");
        const togglePassword = document.querySelector(".toggle-password");
        const loginBtn = document.querySelector(".login-btn");

        // Función para mostrar/ocultar contraseña
        togglePassword.addEventListener("click", function () {
          const type =
            passwordInput.getAttribute("type") === "password"
              ? "text"
              : "password";
          passwordInput.setAttribute("type", type);

          // Cambiar el icono
          this.classList.toggle("fa-eye");
          this.classList.toggle("fa-eye-slash");
        });

        // Validación del formulario
        loginForm.addEventListener("submit", function (e) {
          e.preventDefault();

          // Validar campos
          let isValid = true;

          // Validar usuario
          if (usernameInput.value.trim() === "") {
            showError(usernameInput, "Por favor, ingresa tu usuario o email");
            isValid = false;
          } else {
            removeError(usernameInput);
          }

          // Validar contraseña
          if (passwordInput.value.trim() === "") {
            showError(passwordInput, "Por favor, ingresa tu contraseña");
            isValid = false;
          } else {
            removeError(passwordInput);
          }

          // Si el formulario es válido, simular inicio de sesión
          if (isValid) {
            simulateLogin();
          }
        });

        // Función para mostrar error
        function showError(input, message) {
          const inputField = input.parentElement;
          inputField.classList.add("error");

          // Verificar si ya existe un mensaje de error
          let errorMessage = inputField.querySelector(".error-message");

          if (!errorMessage) {
            errorMessage = document.createElement("div");
            errorMessage.className = "error-message";
            inputField.appendChild(errorMessage);
          }

          errorMessage.textContent = message;
        }

        // Función para quitar error
        function removeError(input) {
          const inputField = input.parentElement;
          inputField.classList.remove("error");

          const errorMessage = inputField.querySelector(".error-message");
          if (errorMessage) {
            errorMessage.remove();
          }
        }

        // Función para simular inicio de sesión
        function simulateLogin() {
          // Mostrar estado de carga
          loginBtn.classList.add("loading");
          loginBtn.disabled = true;

          // Simular tiempo de carga (2 segundos)
          setTimeout(function () {
            // Quitar estado de carga
            loginBtn.classList.remove("loading");
            loginBtn.disabled = false;

            // Mostrar mensaje de éxito (en un caso real, redirigirías al usuario)
            alert("¡Inicio de sesión exitoso!");
            window.location.href = "../index.html";
            // Limpiar formulario
            loginForm.reset();
          }, 2000);
        }

        // Efecto de focus en los campos de entrada
        const inputFields = document.querySelectorAll(".input-field input");

        inputFields.forEach((input) => {
          input.addEventListener("focus", function () {
            this.parentElement.style.borderColor = "#0d6efd";
          });

          input.addEventListener("blur", function () {
            this.parentElement.style.borderColor = "";
          });
        });
      });
    </script>
  </body>
</html>
