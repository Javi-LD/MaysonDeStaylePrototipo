<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Crear Cuenta</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="CSS/registrarme.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body>
    <div class="container">
      <!-- Sección izquierda con fondo azul -->
      <div class="left-section">
        <div class="logo">
          <i class="fas fa-user-plus"></i>
        </div>
        <h1>Únete a nosotros</h1>
        <p>
          Crea una cuenta para acceder a todos nuestros servicios y disfrutar de
          una experiencia personalizada.
        </p>
      </div>

      <!-- Sección derecha con formulario -->
      <div class="right-section">
        <div class="form-container">
          <h2>Crear Cuenta</h2>
          <form id="register-form">
            <div class="input-group">
              <label for="fullname">Nombre Completo</label>
              <div class="input-field">
                <i class="fas fa-user"></i>
                <input
                  type="text"
                  id="fullname"
                  name="fullname"
                  placeholder="Ingresa tu nombre completo"
                  required
                />
              </div>
            </div>

            <div class="input-group">
              <label for="email">Correo Electrónico</label>
              <div class="input-field">
                <i class="fas fa-envelope"></i>
                <input
                  type="email"
                  id="email"
                  name="email"
                  placeholder="Ingresa tu correo electrónico"
                  required
                />
              </div>
            </div>

            <div class="input-group">
              <label for="password">Contraseña</label>
              <div class="input-field">
                <i class="fas fa-lock"></i>
                <input
                  type="password"
                  id="password"
                  name="password"
                  placeholder="Crea una contraseña"
                  required
                />
                <i class="fas fa-eye toggle-password"></i>
              </div>
              <div class="password-requirements">
                <p>La contraseña debe contener al menos:</p>
                <ul>
                  <li id="length">8 caracteres</li>
                  <li id="uppercase">Una letra mayúscula</li>
                  <li id="lowercase">Una letra minúscula</li>
                  <li id="number">Un número</li>
                  <li id="special">Un carácter especial</li>
                </ul>
              </div>
            </div>

            <div class="input-group">
              <label for="confirm-password">Confirmar Contraseña</label>
              <div class="input-field">
                <i class="fas fa-lock"></i>
                <input
                  type="password"
                  id="confirm-password"
                  name="confirm-password"
                  placeholder="Confirma tu contraseña"
                  required
                />
                <i class="fas fa-eye toggle-password"></i>
              </div>
            </div>

            <div class="terms">
              <div class="checkbox-container">
                <input type="checkbox" id="terms" name="terms" required />
                <label for="terms"
                  >Acepto los <a href="#">Términos y Condiciones</a> y la
                  <a href="#">Política de Privacidad</a></label
                >
              </div>
            </div>

            <button type="submit" class="register-btn">Crear Cuenta</button>

            <div class="divider">
              <span>o regístrate con</span>
            </div>

            <div class="social-login">
              <button type="button" class="social-btn google">
                <i class="fab fa-google"></i>
              </button>
              <button type="button" class="social-btn facebook">
                <i class="fab fa-facebook-f"></i>
              </button>
              <button type="button" class="social-btn twitter">
                <i class="fab fa-twitter"></i>
              </button>
            </div>

            <div class="login-link">
              <p>
                ¿Ya tienes una cuenta?
                <a href="inicio_De_Sesion.html">Inicia sesión</a>
              </p>
            </div>
          </form>
        </div>
      </div>
    </div>

    <script>
      // Esperar a que el DOM esté completamente cargado
      document.addEventListener("DOMContentLoaded", function () {
        // Referencias a elementos del DOM
        const registerForm = document.getElementById("register-form");
        const fullnameInput = document.getElementById("fullname");
        const emailInput = document.getElementById("email");
        const passwordInput = document.getElementById("password");
        const confirmPasswordInput =
          document.getElementById("confirm-password");
        const termsCheckbox = document.getElementById("terms");
        const togglePasswordButtons =
          document.querySelectorAll(".toggle-password");
        const registerBtn = document.querySelector(".register-btn");

        // Referencias a los requisitos de contraseña
        const lengthReq = document.getElementById("length");
        const uppercaseReq = document.getElementById("uppercase");
        const lowercaseReq = document.getElementById("lowercase");
        const numberReq = document.getElementById("number");
        const specialReq = document.getElementById("special");

        // Función para mostrar/ocultar contraseña
        togglePasswordButtons.forEach((button) => {
          button.addEventListener("click", function () {
            const input = this.previousElementSibling;
            const type =
              input.getAttribute("type") === "password" ? "text" : "password";
            input.setAttribute("type", type);

            // Cambiar el icono
            this.classList.toggle("fa-eye");
            this.classList.toggle("fa-eye-slash");
          });
        });

        // Validación de contraseña en tiempo real
        passwordInput.addEventListener("input", function () {
          const password = this.value;

          // Validar longitud
          if (password.length >= 8) {
            lengthReq.classList.add("valid");
          } else {
            lengthReq.classList.remove("valid");
          }

          // Validar mayúscula
          if (/[A-Z]/.test(password)) {
            uppercaseReq.classList.add("valid");
          } else {
            uppercaseReq.classList.remove("valid");
          }

          // Validar minúscula
          if (/[a-z]/.test(password)) {
            lowercaseReq.classList.add("valid");
          } else {
            lowercaseReq.classList.remove("valid");
          }

          // Validar número
          if (/[0-9]/.test(password)) {
            numberReq.classList.add("valid");
          } else {
            numberReq.classList.remove("valid");
          }

          // Validar carácter especial
          if (/[^A-Za-z0-9]/.test(password)) {
            specialReq.classList.add("valid");
          } else {
            specialReq.classList.remove("valid");
          }
        });

        // Validación del formulario
        registerForm.addEventListener("submit", function (e) {
          e.preventDefault();

          // Validar campos
          let isValid = true;

          // Validar nombre completo
          if (fullnameInput.value.trim() === "") {
            showError(fullnameInput, "Por favor, ingresa tu nombre completo");
            isValid = false;
          } else {
            removeError(fullnameInput);
          }

          // Validar email
          if (emailInput.value.trim() === "") {
            showError(emailInput, "Por favor, ingresa tu correo electrónico");
            isValid = false;
          } else if (!isValidEmail(emailInput.value.trim())) {
            showError(
              emailInput,
              "Por favor, ingresa un correo electrónico válido"
            );
            isValid = false;
          } else {
            removeError(emailInput);
          }

          // Validar contraseña
          if (passwordInput.value === "") {
            showError(passwordInput, "Por favor, crea una contraseña");
            isValid = false;
          } else if (!isValidPassword(passwordInput.value)) {
            showError(
              passwordInput,
              "La contraseña no cumple con todos los requisitos"
            );
            isValid = false;
          } else {
            removeError(passwordInput);
          }

          // Validar confirmación de contraseña
          if (confirmPasswordInput.value === "") {
            showError(
              confirmPasswordInput,
              "Por favor, confirma tu contraseña"
            );
            isValid = false;
          } else if (confirmPasswordInput.value !== passwordInput.value) {
            showError(confirmPasswordInput, "Las contraseñas no coinciden");
            isValid = false;
          } else {
            removeError(confirmPasswordInput);
          }

          // Validar términos y condiciones
          if (!termsCheckbox.checked) {
            showError(
              termsCheckbox,
              "Debes aceptar los términos y condiciones"
            );
            isValid = false;
          } else {
            removeError(termsCheckbox);
          }

          // Si el formulario es válido, simular registro
          if (isValid) {
            simulateRegistration();
          }
        });

        // Función para mostrar error
        function showError(input, message) {
          let parent;

          if (input === termsCheckbox) {
            parent = input.parentElement.parentElement;
          } else {
            parent = input.parentElement;
          }

          parent.classList.add("error");

          // Verificar si ya existe un mensaje de error
          let errorMessage = parent.querySelector(".error-message");

          if (!errorMessage) {
            errorMessage = document.createElement("div");
            errorMessage.className = "error-message";
            parent.appendChild(errorMessage);
          }

          errorMessage.textContent = message;
        }

        // Función para quitar error
        function removeError(input) {
          let parent;

          if (input === termsCheckbox) {
            parent = input.parentElement.parentElement;
          } else {
            parent = input.parentElement;
          }

          parent.classList.remove("error");

          const errorMessage = parent.querySelector(".error-message");
          if (errorMessage) {
            errorMessage.remove();
          }
        }

        // Función para validar email
        function isValidEmail(email) {
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          return emailRegex.test(email);
        }

        // Función para validar contraseña
        function isValidPassword(password) {
          // Debe tener al menos 8 caracteres, una mayúscula, una minúscula, un número y un carácter especial
          const passwordRegex =
            /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,}$/;
          return passwordRegex.test(password);
        }

        // Función para simular registro
        function simulateRegistration() {
          // Mostrar estado de carga
          registerBtn.classList.add("loading");
          registerBtn.disabled = true;

          // Simular tiempo de carga (2 segundos)
          setTimeout(function () {
            // Quitar estado de carga
            registerBtn.classList.remove("loading");
            registerBtn.disabled = false;

            // Mostrar mensaje de éxito (en un caso real, redirigirías al usuario)
            alert("¡Registro exitoso! Bienvenido/a " + fullnameInput.value);

            // Limpiar formulario
            registerForm.reset();

            // Reiniciar los indicadores de requisitos de contraseña
            lengthReq.classList.remove("valid");
            uppercaseReq.classList.remove("valid");
            lowercaseReq.classList.remove("valid");
            numberReq.classList.remove("valid");
            specialReq.classList.remove("valid");
          }, 2000);
        }

        // Efecto de focus en los campos de entrada
        const inputFields = document.querySelectorAll(".input-field input");

        inputFields.forEach((input) => {
          input.addEventListener("focus", function () {
            this.parentElement.style.borderColor = "#0d6efd";
          });

          input.addEventListener("blur", function () {
            this.parentElement.style.borderColor = "";
          });
        });
      });
    </script>
  </body>
</html>
